@{
    Layout = "_LayoutHC";
}

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">


 <br>

<div class="container">
    <div class="column">
        <div class="col-lg-12 col-sm-5">
        @{ var u = ViewBag.employee;
        <h2><b>@u.Name</b></h2>}
        <h4>Attendance History</h4></div>
    <div class="col-lg-12 col-sm-5"><div class="column text-right" style="margin-bottom:2px"> 
<button onclick="location.href='/Attendance/ClockIn?Id=@u.Id'" class="btn btn-success"><b>Clock In</b></button>
<button onclick="location.href='/Attendance/ClockOut?Id=@u.Id'" class="btn btn-success"><b>Clock Out</b></button></div>

<table style="background:white" class="table text-left">
            <tbody>
    <br>
    <thead style="text-center;" class="thead-dark">
    <tr><th>        </th>
        @{ 
        var a = ViewBag.items;
        var date_only = a.Date;
        for(int i=1;i<8;i++)
            {
        var day = date_only.AddDays(i);
        var getDate = day.ToString("dd/MM/yyyy");
        var getHari = day.DayOfWeek;
        if(day.DayOfWeek!=DayOfWeek.Saturday && day.DayOfWeek!=DayOfWeek.Sunday)
            {
             <th scope="col">@getDate <br> @getHari</th> 
            } 
            }
        }
    </tr>
  </thead>  
        <tr><th><b>Clock In</b></th>
    @{  var Attendance = ViewBag.Attendance;
        var n = ViewBag.items;
        var dateonly = n.Date;
        for(int i=1;i<8;i++)
            {
        var day = dateonly.AddDays(i);
        var getDate = day.ToString("dd/MM/yyyy");
        var getHari = day.DayOfWeek;
        if(day.DayOfWeek!=DayOfWeek.Saturday && day.DayOfWeek!=DayOfWeek.Sunday)
            { foreach(var item in Attendance){
                if(getDate == (item.ClockIn).ToString("dd/MM/yyyy")){
               <td style="background:#00BF61; color:white" scope="col">@item.ClockIn <br> @item.Remarks_in</td> }
               else{
                   <td style="background:#E03535; color:white" scope="col">Absent</td>
               } }
            } 
            }
    }
        </tr> 

        <tr><th><b>Clock Out</b></th>
    @{  
        for(int i=1;i<8;i++)
            {
        var day = dateonly.AddDays(i);
        var getDate = day.ToString("dd-MM-yyyy");
        var getHari = day.DayOfWeek;
        if(day.DayOfWeek!=DayOfWeek.Saturday && day.DayOfWeek!=DayOfWeek.Sunday)
            { foreach(var item in Attendance){
                if(getDate == (item.ClockOut).ToString("dd-MM-yyyy")){
               <td style="background:#00BF61; color:white" scope="col">@item.ClockOut <br> @item.Remarks_out</td> }
               else{
                   <td style="background:#E03535; color:white" scope="col">Absent</td>
               } }
            } 
            }
    }
        </tr> 


        <tr><th><b>Status</b></th>
    @{  
        for(int i=1;i<8;i++)
            {
        var day = dateonly.AddDays(i);
        var getDate = day.ToString("dd-MM-yyyy");
        var getHari = day.DayOfWeek;
        if(day.DayOfWeek!=DayOfWeek.Saturday && day.DayOfWeek!=DayOfWeek.Sunday)
            { foreach(var item in Attendance){
                if(getDate == (item.ClockOut).ToString("dd-MM-yyyy")){
               <td style="background:#00BF61; color:white" scope="col">@item.status</td> }
               else{
                   <td style="background:#E03535; color:white" scope="col">Absent</td>
               } }
            } 
            }
    }
        </tr> 
 </tbody> 
    </table>
    <button onclick="location.href='/Attendance/AttendanceThisMonth?Id=@u.Id'" class="btn btn-success">View This Month</button>
                </div>
            <br>
        </div>
    </div>
</div>
	</div>
</div>
  </div>
</div>

